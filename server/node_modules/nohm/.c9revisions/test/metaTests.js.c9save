{"ts":1342144854312,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var async = require('async');\nvar nohm = require(__dirname + '/../lib/nohm').Nohm;\nvar h = require(__dirname + '/helper.js');\nvar args = require(__dirname + '/testArgs.js');\nvar redis = args.redis;\nvar crypto = require('crypto');\n\nvar prefix = args.prefix;\n\nnohm.model('UserMetaMockup', {\n  properties: {\n    name: {\n      type: 'string',\n      defaultValue: 'testName',\n      index: true,\n      validations: [\n        'notEmpty'\n        ]\n    },\n    email: {\n      type: 'string',\n      defaultValue: 'testMail@test.de',\n      unique: true,\n      validations: [\n        'email',\n        function (vals, old, cb) {\n          cb(vals !== 'thisisnoemail');\n        }\n      ]\n    },\n    gender: {\n      type: 'string'\n    },\n    json: {\n      type: 'json',\n      defaultValue: '{}'\n    },\n    number: {\n      type: 'integer',\n      defaultValue: 1,\n      index: true\n    },\n    bool: {\n      type: 'bool',\n      defaultValue: false\n    }\n  },\n  idGenerator: 'increment'\n});\n\nnohm.model('CommentMetaMockup', {\n  properties: {\n    name: {\n      type: 'string',\n      defaultValue: 'testName',\n      index: true,\n      validations: [\n        'notEmpty'\n        ]\n    }\n  },\n  idGenerator: function (cb) {\n    return cb(+new Date());\n  }\n});\n\nvar errLogger = function(err) {\n  if (err) {\n    console.dir(err);\n  }\n};\n\nvar createUsers = function(props, modelName, callback) {\n  if (typeof(modelName) === 'function') {\n    callback = modelName;\n    modelName = 'UserMetaMockup';\n  }\n  var makeSeries = function(prop) {\n    return function(next) {\n      var user = nohm.factory(modelName);\n      user.p(prop);\n      user.save(function (err) {\n        next(err, user);\n      });\n    };\n  };\n\n  var series = props.map(function(prop) {\n    return makeSeries(prop);\n  });\n\n  async.series(series, function(err, users) {\n    var ids = users.map(function (user) {\n      return user.id;\n    });\n    callback(users, ids);\n  });\n};\n\nvar users_created = false;\n\nexports.meta = {\n  \n  setUp: function(next) {\n    if (!nohm.client) {\n      nohm.setClient(redis);\n    }\n    var t = this;\n    \n    if ( ! users_created) {\n      createUsers([{\n        name: 'metatestsone',\n        email: 'metatestsone@hurgel.de',\n        gender: 'male',\n        number: 3\n      }, {\n        name: 'metateststwo',\n        email: 'numericindextest2@hurgel.de',\n        gender: 'male',\n        number: 4\n      }], function(users, ids) {\n        var comment = nohm.factory('CommentMetaMockup');\n        users_created = true;\n        users[0].link(comment);\n        users[0].save(function () {\n          t.users = users;\n          t.userIds = ids;\n          next();\n        });\n      });\n    } else {\n      next();\n    }\n  },\n\n  version: function(t) {\n    var user = nohm.factory('UserMetaMockup');\n    t.expect(1);\n    \n    var hash = crypto.createHash('sha1');\n    \n    hash.update(JSON.stringify(user.meta.properties));\n    hash.update(JSON.stringify(user.modelName));\n    hash.update(user.idGenerator.toString());\n    \n    redis.get(prefix+':meta:version:UserMetaMockup', function (err, version) {\n      errLogger(err);\n      t.same(hash.digest('hex'), version, 'Version of the metadata did not match.');\n      t.done();\n    });\n  },\n\n  \"version in instance\": function(t) {\n    var user = nohm.factory('UserMetaMockup');\n    t.expect(1);\n    \n    redis.hget(prefix+':hash:UserMetaMockup:1', '__meta_version', function (err, version) {\n      errLogger(err);\n      t.same(user.meta.version, version, 'Version of the instance did not match metaData.');\n      t.done();\n    });\n  },\n\n  idGenerator: function(t) {\n    var user = nohm.factory('UserMetaMockup');\n    var comment = nohm.factory('CommentMetaMockup');\n    t.expect(2);\n    \n    async.parallel([\n      function (next) {\n        redis.get(prefix+':meta:idGenerator:UserMetaMockup', function (err, generator) {\n          errLogger(err);\n          t.same(user.idGenerator.toString(), generator, 'idGenerator of the user did not match.');\n          next();\n        });\n      },\n      function (next) {\n        redis.get(prefix+':meta:idGenerator:CommentMetaMockup', function (err, generator)  {\n          errLogger(err);\n          t.same(comment.idGenerator.toString(), generator, 'idGenerator of the comment did not match.');\n          next();\n        });\n      }\n    ], t.done);\n  },\n\n  properties: function(t) {\n    var user = nohm.factory('UserMetaMockup');\n    var comment = nohm.factory('CommentMetaMockup');\n    t.expect(2);\n    \n    async.parallel([\n      function (next) {\n        redis.get(prefix+':meta:properties:UserMetaMockup', function (err, properties) {\n          errLogger(err);\n          t.same(JSON.stringify(user.meta.properties), properties, 'Properties of the user did not match.');\n          next();\n        });\n      },\n      function (next) {\n        redis.get(prefix+':meta:properties:CommentMetaMockup', function (err, properties)  {\n          errLogger(err);\n          t.same(JSON.stringify(comment.meta.properties), properties, 'Properties of the comment did not match.');\n          next();\n        });\n      }\n    ], t.done);\n  }\n};\n"]],"start1":0,"start2":0,"length1":0,"length2":5074}]],"length":5074}
{"contributors":[],"silentsave":false,"ts":1342144968414,"patch":[[{"diffs":[[0,"rypto');"],[1,"\nvar traverse = require('traverse');"],[0,"\n\nvar pr"]],"start1":221,"start2":221,"length1":16,"length2":52},{"diffs":[[0,"false;\n\n"],[1,"var stringify = function (obj) {\n  return traverse(obj).map(function (x) { \n    if (typeof x === 'function') {\n      return String(x) \n    } else {\n      return x;\n    }\n  });\n}\n\n"],[0,"exports."]],"start1":1969,"start2":1969,"length1":16,"length2":195},{"diffs":[[0,"         t.same("],[-1,"JSON."],[0,"stringify(user.m"]],"start1":4823,"start2":4823,"length1":37,"length2":32},{"diffs":[[0," t.same("],[-1,"JSON."],[0,"stringif"]],"start1":5117,"start2":5117,"length1":21,"length2":16}]],"length":5279,"saved":false}
{"ts":1342145035073,"patch":[[{"diffs":[[0,"tringify"],[1,"_functions"],[0," = funct"]],"start1":1982,"start2":1982,"length1":16,"length2":26},{"diffs":[[0,"         t.same("],[1,"JSON."],[0,"stringify(user.m"]],"start1":4833,"start2":4833,"length1":32,"length2":37},{"diffs":[[0,"(JSON.stringify("],[1,"stringify_functions("],[0,"user.meta.proper"]],"start1":4848,"start2":4848,"length1":32,"length2":52},{"diffs":[[0,"meta.properties)"],[1,")"],[0,", properties, 'P"]],"start1":4889,"start2":4889,"length1":32,"length2":33},{"diffs":[[0," t.same("],[1,"JSON."],[0,"stringif"]],"start1":5153,"start2":5153,"length1":16,"length2":21},{"diffs":[[0,"ringify("],[1,"stringify_functions("],[0,"comment."]],"start1":5168,"start2":5168,"length1":16,"length2":36},{"diffs":[[0,"perties)"],[1,")"],[0,", proper"]],"start1":5212,"start2":5212,"length1":16,"length2":17}]],"length":5341,"saved":false}
{"contributors":[],"silentsave":true,"ts":1372940743815,"patch":[[{"diffs":[[0,";\n  },\n\n"],[1,"  \"version in instance\": function(t) {\n    var user = nohm.factory('UserMetaMockup');\n    t.expect(1);\n    \n    redis.hget(prefix+':hash:UserMetaMockup:1', '__meta_version', function (err, version) {\n      errLogger(err);\n      t.same(user.meta.version, version, 'Version of the instance did not match metaData.');\n      t.done();\n    });\n  },\n\n"],[0,"  idGene"]],"start1":3755,"start2":3755,"length1":16,"length2":361}]],"length":5686,"saved":false}
{"ts":1372940751187,"patch":[[{"diffs":[[0,"\"version in "],[-1,"instance"],[1,"model "],[0,"\": function("]],"start1":3765,"start2":3765,"length1":32,"length2":30}]],"length":5684,"saved":false}
{"ts":1372940755429,"patch":[[{"diffs":[[0,");\n  },\n\n  \""],[-1,"version"],[1,"meta.inDb"],[0," in model \":"]],"start1":3754,"start2":3754,"length1":31,"length2":33}]],"length":5686,"saved":false}
{"ts":1372940756684,"patch":[[{"diffs":[[0,"ta.inDb "],[1,"set "],[0,"in model"]],"start1":3768,"start2":3768,"length1":16,"length2":20}]],"length":5690,"saved":false}
{"ts":1372940767242,"patch":[[{"diffs":[[0,"n model "],[1,"that already has the correct meta version in db"],[0,"\": funct"]],"start1":3781,"start2":3781,"length1":16,"length2":63}]],"length":5737,"saved":false}
{"ts":1372940782037,"patch":[[{"diffs":[[0,"    "],[-1,"redis.hget(prefix+':hash:UserMetaMockup:1', '__meta_version', function (err, version) {\n      errLogger(err);\n      t.same(user.meta.version, version, 'Version of the instance did not match metaData.');\n      t.done();\n    });"],[0,"\n  }"]],"start1":3922,"start2":3922,"length1":234,"length2":8}]],"length":5511,"saved":false}
{"ts":1372940783843,"patch":[[{"diffs":[[0,"   \n    "],[1,"user."],[0,"\n  },\n\n "]],"start1":3918,"start2":3918,"length1":16,"length2":21}]],"length":5516,"saved":false}
{"ts":1372940913639,"patch":[[{"diffs":[[0,"on(t) {\n    var "],[-1,"user"],[1,"test"],[0," = nohm.factory("]],"start1":3845,"start2":3845,"length1":36,"length2":36}]],"length":5516,"saved":false}
{"ts":1372940917889,"patch":[[{"diffs":[[0,"var test = nohm."],[-1,"factory"],[1,"mocel"],[0,"('UserMetaMockup"]],"start1":3857,"start2":3857,"length1":39,"length2":37}]],"length":5514,"saved":false}
{"ts":1372940920642,"patch":[[{"diffs":[[0,"nohm.mocel('"],[-1,"User"],[1,"Test"],[0,"MetaMockup')"]],"start1":3868,"start2":3868,"length1":28,"length2":28}]],"length":5514,"saved":false}
{"ts":1372940922112,"patch":[[{"diffs":[[0,"el('Test"],[1,"Version"],[0,"MetaMock"]],"start1":3876,"start2":3876,"length1":16,"length2":23}]],"length":5521,"saved":false}
{"ts":1372940929308,"patch":[[{"diffs":[[0,"rsionMetaMockup'"],[1,", {\n      \n    }"],[0,");\n    t.expect("]],"start1":3886,"start2":3886,"length1":32,"length2":48}]],"length":5537,"saved":false}
{"ts":1372940939195,"patch":[[{"diffs":[[0,"p', {\n      "],[1,"properties: {\n    name: {\n      type: 'string',\n      defaultValue: 'testName',\n      index: true,\n      validations: [\n        'notEmpty'\n        ]\n    }"],[0,"\n    });\n   "]],"start1":3900,"start2":3900,"length1":24,"length2":178}]],"length":5691,"saved":false}
{"ts":1372940941247,"patch":[[{"diffs":[[0,"  properties: {\n"],[1,"    "],[0,"    name: {\n    "]],"start1":3910,"start2":3910,"length1":32,"length2":36},{"diffs":[[0,"        name: {\n"],[1,"    "],[0,"      type: 'str"]],"start1":3926,"start2":3926,"length1":32,"length2":36},{"diffs":[[0,"'string',\n      "],[1,"    "],[0,"defaultValue: 't"]],"start1":3958,"start2":3958,"length1":32,"length2":36},{"diffs":[[0,"ue: 'testName',\n"],[1,"    "],[0,"      index: tru"]],"start1":3988,"start2":3988,"length1":32,"length2":36},{"diffs":[[0,"ex: true,\n      "],[1,"    "],[0,"validations: [\n "]],"start1":4017,"start2":4017,"length1":32,"length2":36},{"diffs":[[0," validations: [\n"],[1,"    "],[0,"        'notEmpt"]],"start1":4036,"start2":4036,"length1":32,"length2":36},{"diffs":[[0,"tEmpty'\n        "],[-1,"]\n"],[1,"    ]\n    "],[0,"    }\n    });\n  "]],"start1":4067,"start2":4067,"length1":34,"length2":42}]],"length":5723,"saved":false}
{"ts":1372940943097,"patch":[[{"diffs":[[0,"]\n        }\n"],[1,"      }\n"],[0,"    });\n    "]],"start1":4087,"start2":4087,"length1":24,"length2":32}]],"length":5731,"saved":false}
{"ts":1372940951096,"patch":[[{"diffs":[[0," nohm.mo"],[-1,"c"],[1,"d"],[0,"el('Test"]],"start1":3867,"start2":3867,"length1":17,"length2":17}]],"length":5731,"saved":false}
{"ts":1372940958795,"patch":[[{"diffs":[[0,"   }\n      }"],[1,",\n      "],[0,"\n    });\n   "]],"start1":4094,"start2":4094,"length1":24,"length2":32}]],"length":5739,"saved":false}
{"ts":1372940979017,"patch":[[{"diffs":[[0,"   },\n      "],[1,"metaCallback"],[0,"\n    });\n   "]],"start1":4102,"start2":4102,"length1":24,"length2":36}]],"length":5751,"saved":false}
{"ts":1372940980386,"patch":[[{"diffs":[[0,"Callback"],[1,":"],[0,"\n    });"]],"start1":4118,"start2":4118,"length1":16,"length2":17}]],"length":5752,"saved":false}
{"ts":1372940982826,"patch":[[{"diffs":[[0,"allback:"],[1," function ()"],[0,"\n    });"]],"start1":4119,"start2":4119,"length1":16,"length2":28}]],"length":5764,"saved":false}
{"ts":1372940985156,"patch":[[{"diffs":[[0,"nction ("],[-1,")"],[1,"test) {\n        \n      }"],[0,"\n    });"]],"start1":4130,"start2":4130,"length1":17,"length2":40}]],"length":5787,"saved":false}
{"ts":1372940993341,"patch":[[{"diffs":[[0,": function(t) {\n"],[1,"    var tested_\n"],[0,"    var test = n"]],"start1":3837,"start2":3837,"length1":32,"length2":48}]],"length":5803,"saved":false}
{"ts":1372940994215,"patch":[[{"diffs":[[0,"r tested"],[-1,"_"],[0,"\n    var"]],"start1":3859,"start2":3859,"length1":17,"length2":16}]],"length":5802,"saved":false}
{"ts":1372940995934,"patch":[[{"diffs":[[0,"r tested"],[1," = "],[0,"\n    var"]],"start1":3859,"start2":3859,"length1":16,"length2":19}]],"length":5805,"saved":false}
{"ts":1372940996920,"patch":[[{"diffs":[[0,"ested = "],[1,"0;"],[0,"\n    var"]],"start1":3862,"start2":3862,"length1":16,"length2":18}]],"length":5807,"saved":false}
{"ts":1372940999597,"patch":[[{"diffs":[[0,") {\n        "],[1,"tested"],[0,"\n      }\n   "]],"start1":4162,"start2":4162,"length1":24,"length2":30}]],"length":5813,"saved":false}
{"ts":1372941001284,"patch":[[{"diffs":[[0,"  tested"],[1,"++;"],[0,"\n      }"]],"start1":4172,"start2":4172,"length1":16,"length2":19}]],"length":5816,"saved":false}
{"ts":1372941003217,"patch":[[{"diffs":[[0,"on (test) {\n"],[1,"        \n"],[0,"        test"]],"start1":4154,"start2":4154,"length1":24,"length2":33}]],"length":5825,"saved":false}
{"ts":1372941008444,"patch":[[{"diffs":[[0,") {\n        "],[1,"if (tested === 0) {\n          \n        }"],[0,"\n        tes"]],"start1":4162,"start2":4162,"length1":24,"length2":64}]],"length":5865,"saved":false}
{"ts":1372941010410,"patch":[[{"diffs":[[0,"\n          \n"],[1,"        } else {\n          \n"],[0,"        }\n  "]],"start1":4193,"start2":4193,"length1":24,"length2":52}]],"length":5893,"saved":false}
{"ts":1372941012205,"patch":[[{"diffs":[[0,"    });\n"],[-1,"    t.expect(1);\n"],[0,"    \n   "]],"start1":4269,"start2":4269,"length1":33,"length2":16}]],"length":5876,"saved":false}
{"ts":1372941014580,"patch":[[{"diffs":[[0,": function(t) {\n"],[1,"    t.expect(1);\n"],[0,"    var tested ="]],"start1":3837,"start2":3837,"length1":32,"length2":49}]],"length":5893,"saved":false}
{"ts":1372941016702,"patch":[[{"diffs":[[0,"   t.expect("],[-1,"1"],[1,"2"],[0,");\n    var t"]],"start1":3854,"start2":3854,"length1":25,"length2":25}]],"length":5893,"saved":false}
{"ts":1372941018723,"patch":[[{"diffs":[[0," 0) {\n          "],[1,"t.ok"],[0,"\n        } else "]],"start1":4205,"start2":4205,"length1":32,"length2":36}]],"length":5897,"saved":false}
{"ts":1372941020932,"patch":[[{"diffs":[[0,"nction ("],[-1,"test"],[1,"version"],[0,") {\n    "]],"start1":4167,"start2":4167,"length1":20,"length2":23}]],"length":5900,"saved":false}
{"ts":1372941023885,"patch":[[{"diffs":[[0,"    t.ok"],[1,"(version)"],[0,"\n       "]],"start1":4220,"start2":4220,"length1":16,"length2":25}]],"length":5909,"saved":false}
{"ts":1372941026395,"patch":[[{"diffs":[[0,"(version"],[-1,")"],[1,", \"V\""],[0,"\n       "]],"start1":4228,"start2":4228,"length1":17,"length2":21}]],"length":5913,"saved":false}
{"ts":1372941030697,"patch":[[{"diffs":[[0,"rsion, \""],[-1,"V"],[1,"No version in meta.inDb"],[0,"\"\n      "]],"start1":4231,"start2":4231,"length1":17,"length2":39}]],"length":5935,"saved":false}
{"ts":1372941032896,"patch":[[{"diffs":[[0,"eta.inDb"],[-1,"\""],[1," callback\";"],[0,"\n       "]],"start1":4254,"start2":4254,"length1":17,"length2":27}]],"length":5945,"saved":false}
{"ts":1372941033784,"patch":[[{"diffs":[[0,"allback\""],[1,")"],[0,";\n      "]],"start1":4264,"start2":4264,"length1":16,"length2":17}]],"length":5946,"saved":false}
{"ts":1372941036369,"patch":[[{"diffs":[[0,"\n          \n"],[1,"          t.ok(version, \"No version in meta.inDb callback\");\n"],[0,"        }\n  "]],"start1":4291,"start2":4291,"length1":24,"length2":85}]],"length":6007,"saved":false}
{"ts":1372941037562,"patch":[[{"diffs":[[0,"e {\n"],[-1,"          \n"],[0,"    "]],"start1":4288,"start2":4288,"length1":19,"length2":8}]],"length":5996,"saved":false}
{"ts":1372941046923,"patch":[[{"diffs":[[0,"   t.expect("],[-1,"2"],[1,"3"],[0,");\n    var t"]],"start1":3854,"start2":3854,"length1":25,"length2":25}]],"length":5996,"saved":false}
{"ts":1372941051316,"patch":[[{"diffs":[[0,"   \n    "],[-1,"user"],[1,"test"],[0,".\n  },\n\n"]],"start1":4398,"start2":4398,"length1":20,"length2":20}]],"length":5996,"saved":false}
{"ts":1372941054660,"patch":[[{"diffs":[[0,"   test."],[1,"meta.inDb;M"],[0,"\n  },\n\n "]],"start1":4403,"start2":4403,"length1":16,"length2":27}]],"length":6007,"saved":false}
{"ts":1372941056661,"patch":[[{"diffs":[[0,"inDb"],[-1,";M"],[1,", false"],[0,"\n  }"]],"start1":4416,"start2":4416,"length1":10,"length2":15}]],"length":6012,"saved":false}
{"ts":1372941057884,"patch":[[{"diffs":[[0,"b, false"],[1,", "],[0,"\n  },\n\n "]],"start1":4419,"start2":4419,"length1":16,"length2":18}]],"length":6014,"saved":false}
{"ts":1372941061123,"patch":[[{"diffs":[[0," false, "],[1,"\"Meta version in\""],[0,"\n  },\n\n "]],"start1":4421,"start2":4421,"length1":16,"length2":33}]],"length":6031,"saved":false}
{"contributors":[],"silentsave":true,"ts":1372941080607,"patch":[[{"diffs":[[0,"rsion in"],[1,"Dbwas"],[0,"\"\n  },\n\n"]],"start1":4437,"start2":4437,"length1":16,"length2":21}]],"length":6036,"saved":false}
{"ts":1372941085182,"patch":[[{"diffs":[[0,"inDb"],[-1,"wa"],[0,"s\"\n "]],"start1":4443,"start2":4443,"length1":10,"length2":8}]],"length":6034,"saved":false}
{"ts":1372941085995,"patch":[[{"diffs":[[0,"ion inDb"],[-1,"s"],[1," "],[0,"\"\n  },\n\n"]],"start1":4439,"start2":4439,"length1":17,"length2":17}]],"length":6034,"saved":false}
{"ts":1372941088936,"patch":[[{"diffs":[[0,"on inDb "],[1,"was not false as exp"],[0,"\"\n  },\n\n"]],"start1":4440,"start2":4440,"length1":16,"length2":36}]],"length":6054,"saved":false}
{"ts":1372941090866,"patch":[[{"diffs":[[0,"alse"],[-1," as exp"],[1,"."],[0,"\"\n  "]],"start1":4457,"start2":4457,"length1":15,"length2":9}]],"length":6048,"saved":false}
{"ts":1372941093868,"patch":[[{"diffs":[[0,");\n    \n    "],[1,"t.ok("],[0,"test.meta.in"]],"start1":4394,"start2":4394,"length1":24,"length2":29}]],"length":6053,"saved":false}
{"ts":1372941096244,"patch":[[{"diffs":[[0," \n    t."],[-1,"ok"],[1,"same"],[0,"(test.me"]],"start1":4400,"start2":4400,"length1":18,"length2":20}]],"length":6055,"saved":false}
{"ts":1372941098558,"patch":[[{"diffs":[[0," false.\""],[1,");"],[0,"\n  },\n\n "]],"start1":4462,"start2":4462,"length1":16,"length2":18}]],"length":6057,"saved":false}
{"ts":1372941103121,"patch":[[{"diffs":[[0,"nDb callback\");\n"],[1,"          t.done()\n"],[0,"        }\n      "]],"start1":4337,"start2":4337,"length1":32,"length2":51}]],"length":6076,"saved":false}
{"ts":1372941103863,"patch":[[{"diffs":[[0,"t.done()"],[1,";"],[0,"\n       "]],"start1":4363,"start2":4363,"length1":16,"length2":17}]],"length":6077,"saved":false}
{"ts":1372941112412,"patch":[[{"diffs":[[0,"   }"],[-1," else {\n          t.ok(version, \"No version in meta.inDb callback\");\n          t.done();\n        }\n        tested++;"],[0,"\n   "]],"start1":4280,"start2":4280,"length1":124,"length2":8}]],"length":5961,"saved":false}
{"ts":1372941114827,"patch":[[{"diffs":[[0,"expect(3"],[1,"2"],[0,");\n    v"]],"start1":3859,"start2":3859,"length1":16,"length2":17}]],"length":5962,"saved":false}
{"ts":1372941115840,"patch":[[{"diffs":[[0,"2);\n"],[-1,"    var tested = 0;\n"],[0,"    "]],"start1":3867,"start2":3867,"length1":28,"length2":8}]],"length":5942,"saved":false}
{"ts":1372941119358,"patch":[[{"diffs":[[0,"ed === 0) {\n"],[1,"    t.same(test.meta.inDb, false, \"Meta version inDb was not false.\");\n"],[0,"          t."]],"start1":4183,"start2":4183,"length1":24,"length2":95}]],"length":6013,"saved":false}
{"ts":1372941121095,"patch":[[{"diffs":[[0,"ed === 0) {\n"],[1,"      "],[0,"    t.same(t"]],"start1":4183,"start2":4183,"length1":24,"length2":30}]],"length":6019,"saved":false}
{"ts":1372941124081,"patch":[[{"diffs":[[0,"test.meta.inDb, "],[-1,"false"],[1,"tr8"],[0,", \"Meta version "]],"start1":4212,"start2":4212,"length1":37,"length2":35}]],"length":6017,"saved":false}
{"ts":1372941124961,"patch":[[{"diffs":[[0,", tr"],[-1,"8"],[1,"ue"],[0,", \"M"]],"start1":4226,"start2":4226,"length1":9,"length2":10}]],"length":6018,"saved":false}
{"ts":1372941143698,"patch":[[{"diffs":[[0,"     }\n    }"],[1,", true"],[0,");\n    \n    "]],"start1":4343,"start2":4343,"length1":24,"length2":30}]],"length":6024,"saved":false}
{"ts":1372941150148,"patch":[[{"diffs":[[0,", true);"],[1," // temp so we can create it again"],[0,"\n    \n  "]],"start1":4355,"start2":4355,"length1":16,"length2":50}]],"length":6058,"saved":false}
{"ts":1372941169931,"patch":[[{"diffs":[[0,"expect(32);\n"],[1,"    \n    \n    \n"],[0,"    var test"]],"start1":3859,"start2":3859,"length1":24,"length2":39}]],"length":6073,"saved":false}
{"ts":1372941174345,"patch":[[{"diffs":[[0,");\n    \n    "],[1,"var retest = function () {\n      \n    }"],[0,"\n    \n    va"]],"start1":3868,"start2":3868,"length1":24,"length2":63}]],"length":6112,"saved":false}
{"ts":1372941176098,"patch":[[{"diffs":[[0,"      \n    }"],[1,";"],[0,"\n    \n    va"]],"start1":3907,"start2":3907,"length1":24,"length2":25}]],"length":6113,"saved":false}
{"ts":1372941246509,"patch":[[{"diffs":[[0,"nction ("],[1,"err, "],[0,"version)"]],"start1":4203,"start2":4203,"length1":16,"length2":21}]],"length":6118,"saved":false}
{"ts":1372941252952,"patch":[[{"diffs":[[0,"ta.inDb "],[1,"callback and  "],[0,"set in m"]],"start1":3768,"start2":3768,"length1":16,"length2":30}]],"length":6132,"saved":false}
{"ts":1372941253706,"patch":[[{"diffs":[[0,"ack and "],[-1," "],[0,"set in m"]],"start1":3781,"start2":3781,"length1":17,"length2":16}]],"length":6131,"saved":false}
{"ts":1372941258699,"patch":[[{"diffs":[[0,") {\n"],[-1,"        if (tested === 0) {\n"],[0,"    "]],"start1":4236,"start2":4236,"length1":36,"length2":8}]],"length":6103,"saved":false}
{"ts":1372941259442,"patch":[[{"diffs":[[0,"back\");\n"],[-1,"        }\n"],[0,"      }\n"]],"start1":4369,"start2":4369,"length1":26,"length2":16}]],"length":6093,"saved":false}
{"ts":1372941260809,"patch":[[{"diffs":[[0,") {\n        "],[-1,"  "],[0,"t.same(test."]],"start1":4236,"start2":4236,"length1":26,"length2":24},{"diffs":[[0,"t false.\");\n"],[-1,"  "],[0,"        t.ok"]],"start1":4302,"start2":4302,"length1":26,"length2":24}]],"length":6089,"saved":false}
{"ts":1372941262285,"patch":[[{"diffs":[[0,"t false.\");\n"],[1,"        t.same(test.meta.inDb, true, \"Meta version inDb was not false.\");\n"],[0,"        t.ok"]],"start1":4302,"start2":4302,"length1":24,"length2":98}]],"length":6163,"saved":false}
{"ts":1372941265461,"patch":[[{"diffs":[[0,"     t.same("],[-1,"test.meta.inDb"],[1,"err"],[0,", true, \"Met"]],"start1":4243,"start2":4243,"length1":38,"length2":27}]],"length":6152,"saved":false}
{"ts":1372941272765,"patch":[[{"diffs":[[0,"me(err, "],[-1,"true"],[1,"null"],[0,", \"Meta "]],"start1":4252,"start2":4252,"length1":20,"length2":20}]],"length":6152,"saved":false}
{"ts":1372941277374,"patch":[[{"diffs":[[0,"version "],[-1,"inDb was not false."],[1,"callback h"],[0,"\");\n    "]],"start1":4272,"start2":4272,"length1":35,"length2":26}]],"length":6143,"saved":false}
{"ts":1372941279648,"patch":[[{"diffs":[[0,"llback h"],[1,"ad an error"],[0,"\");\n    "]],"start1":4282,"start2":4282,"length1":16,"length2":27}]],"length":6154,"saved":false}
{"ts":1372941279976,"patch":[[{"diffs":[[0,"an error"],[1,"."],[0,"\");\n    "]],"start1":4293,"start2":4293,"length1":16,"length2":17}]],"length":6155,"saved":false}
{"ts":1372941285245,"patch":[[{"diffs":[[0,"ue,\n"],[-1,"          validations: [\n            'notEmpty'\n            ]\n"],[0,"    "]],"start1":4109,"start2":4109,"length1":70,"length2":8}]],"length":6093,"saved":false}
{"ts":1372941287121,"patch":[[{"diffs":[[0,"e',\n"],[-1,"          index: true,\n"],[0,"    "]],"start1":4086,"start2":4086,"length1":31,"length2":8}]],"length":6070,"saved":false}
{"ts":1372941291543,"patch":[[{"diffs":[[0,"aultValue: 'test"],[-1,"Name"],[1,"Property"],[0,"',\n        }\n   "]],"start1":4067,"start2":4067,"length1":36,"length2":40}]],"length":6074,"saved":false}
{"ts":1372941320921,"patch":[[{"diffs":[[0,"   \n    "],[-1,"var "],[0,"test = n"]],"start1":3935,"start2":3935,"length1":20,"length2":16}]],"length":6070,"saved":false}
{"ts":1372941322023,"patch":[[{"diffs":[[0,"expect(32);\n"],[1,"    var t\n"],[0,"    \n    var"]],"start1":3872,"start2":3872,"length1":24,"length2":34}]],"length":6080,"saved":false}
{"ts":1372941322978,"patch":[[{"diffs":[[0,"   var t"],[1,"est;"],[0,"\n    \n  "]],"start1":3885,"start2":3885,"length1":16,"length2":20}]],"length":6084,"saved":false}
{"ts":1372941328807,"patch":[[{"diffs":[[0," () {\n      "],[1,"= nohm.model('TestVersionMetaMockup', {\n      properties: {\n        name: {\n          type: 'string',\n          defaultValue: 'testProperty',\n        }\n      },\n      metaCallback: function (err, version) {\n        t.same(err, null, \"Meta version callback had an error.\");\n        t.same(test.meta.inDb, true, \"Meta version inDb was not false.\");\n        t.ok(version, \"No version in meta.inDb callback\");\n      }\n    }, true); // temp so we can create it again"],[0,"\n    };\n    "]],"start1":3928,"start2":3928,"length1":24,"length2":485}]],"length":6545,"saved":false}
{"ts":1372941331053,"patch":[[{"diffs":[[0,"{\n      "],[1,"test "],[0,"= nohm.m"]],"start1":3932,"start2":3932,"length1":16,"length2":21}]],"length":6550,"saved":false}
{"ts":1372941334030,"patch":[[{"diffs":[[0,"ockup', {\n      "],[1,"  "],[0,"properties: {\n  "]],"start1":3975,"start2":3975,"length1":32,"length2":34},{"diffs":[[0,": {\n        "],[1,"  "],[0,"name: {\n"],[1,"  "],[0,"          ty"]],"start1":4003,"start2":4003,"length1":32,"length2":36},{"diffs":[[0,"ing',\n          "],[1,"  "],[0,"defaultValue: 't"]],"start1":4047,"start2":4047,"length1":32,"length2":34},{"diffs":[[0,"perty',\n        "],[-1,"}\n"],[1,"  }\n  "],[0,"      },\n      m"]],"start1":4087,"start2":4087,"length1":34,"length2":38},{"diffs":[[0,"       },\n      "],[1,"  "],[0,"metaCallback: fu"]],"start1":4108,"start2":4108,"length1":32,"length2":34},{"diffs":[[0,"err, version) {\n"],[1,"  "],[0,"        t.same(e"]],"start1":4150,"start2":4150,"length1":32,"length2":34},{"diffs":[[0,"ad an error.\");\n"],[1,"  "],[0,"        t.same(t"]],"start1":4218,"start2":4218,"length1":32,"length2":34},{"diffs":[[0,"lse.\");\n        "],[1,"  "],[0,"t.ok(version, \"N"]],"start1":4302,"start2":4302,"length1":32,"length2":34},{"diffs":[[0,"llback\");\n      "],[-1,"}\n"],[1,"  }\n  "],[0,"    }, true); //"]],"start1":4361,"start2":4361,"length1":34,"length2":38}]],"length":6574,"saved":false}
{"ts":1372941350452,"patch":[[{"diffs":[[0,"ue);"],[-1," // temp so we can create it again"],[0,"\n   "]],"start1":4392,"start2":4392,"length1":42,"length2":8}]],"length":6540,"saved":false}
{"ts":1372941371262,"patch":[[{"diffs":[[0,"ect("],[-1,"32"],[1,"7"],[0,");\n "]],"start1":3875,"start2":3875,"length1":10,"length2":9}]],"length":6539,"saved":false}
{"ts":1372941393603,"patch":[[{"diffs":[[0,"callback\");\n"],[1,"          t.done();\n"],[0,"        }\n  "]],"start1":4358,"start2":4358,"length1":24,"length2":44}]],"length":6559,"saved":false}
{"ts":1372941454737,"patch":[[{"diffs":[[0," },\n\n  \""],[1," "],[0,"meta.inD"]],"start1":3758,"start2":3758,"length1":16,"length2":17}]],"length":6560,"saved":false}
{"ts":1372941457679,"patch":[[{"diffs":[[0,"},\n\n  \" meta"],[-1,"."],[1," "],[0,"inDb callbac"]],"start1":3759,"start2":3759,"length1":25,"length2":25}]],"length":6560,"saved":false}
{"ts":1372941459646,"patch":[[{"diffs":[[0," },\n\n  \""],[-1," "],[0,"meta inD"]],"start1":3758,"start2":3758,"length1":17,"length2":16}]],"length":6559,"saved":false}
{"ts":1372941461322,"patch":[[{"diffs":[[0,"  \"meta "],[-1,"inDb"],[0," callbac"]],"start1":3763,"start2":3763,"length1":20,"length2":16}]],"length":6555,"saved":false}
{"ts":1372941462735,"patch":[[{"diffs":[[0,"  \"meta "],[-1," "],[0,"callback"]],"start1":3763,"start2":3763,"length1":17,"length2":16}]],"length":6554,"saved":false}
{"ts":1372941464568,"patch":[[{"diffs":[[0,"ack and "],[1,"inDb "],[0,"set in m"]],"start1":3776,"start2":3776,"length1":16,"length2":21}]],"length":6559,"saved":false}
{"ts":1372941484538,"patch":[[{"diffs":[[0,"t again\n    "],[1,"console.log "],[0,"\n    t.same("]],"start1":4891,"start2":4891,"length1":24,"length2":36}]],"length":6571,"saved":false}
{"ts":1372941487144,"patch":[[{"diffs":[[0,"sole.log"],[-1," "],[1,"(test.meta)"],[0,"\n    t.s"]],"start1":4906,"start2":4906,"length1":17,"length2":27}]],"length":6581,"saved":false}
{"ts":1372941488857,"patch":[[{"diffs":[[0,"est.meta"],[-1,")"],[1,", test);"],[0,"\n    t.s"]],"start1":4916,"start2":4916,"length1":17,"length2":24}]],"length":6588,"saved":false}
{"ts":1372941491539,"patch":[[{"diffs":[[0,"meta"],[-1,", test"],[0,");\n "]],"start1":4920,"start2":4920,"length1":14,"length2":8}]],"length":6582,"saved":false}
{"ts":1372941502266,"patch":[[{"diffs":[[0,"log(test"],[-1,".meta"],[0,");\n    t"]],"start1":4911,"start2":4911,"length1":21,"length2":16}]],"length":6577,"saved":false}
{"ts":1372941532912,"patch":[[{"diffs":[[0,"log(test"],[1,".prototype.meta"],[0,");\n    t"]],"start1":4911,"start2":4911,"length1":16,"length2":31}]],"length":6592,"saved":false}
{"ts":1372941548060,"patch":[[{"diffs":[[0,"    t.same(test."],[1,"prototype."],[0,"meta.inDb, false"]],"start1":4937,"start2":4937,"length1":32,"length2":42}]],"length":6602,"saved":false}
{"ts":1372941767074,"patch":[[{"diffs":[[0,"t again\n"],[1,"    \n    \n"],[0,"    cons"]],"start1":4891,"start2":4891,"length1":16,"length2":26}]],"length":6612,"saved":false}
{"ts":1372941772052,"patch":[[{"diffs":[[0,"   \n"],[-1,"    console.log(test.prototype.meta);\n"],[0,"    "]],"start1":4905,"start2":4905,"length1":46,"length2":8}]],"length":6574,"saved":false}
{"ts":1372941774360,"patch":[[{"diffs":[[0,"in\n    \n    "],[-1,"\n"],[0,"    t.same(t"]],"start1":4896,"start2":4896,"length1":25,"length2":24}]],"length":6573,"saved":false}
{"ts":1372941775294,"patch":[[{"diffs":[[0,"in\n    \n    "],[1,"\n"],[0,"    t.same(t"]],"start1":4896,"start2":4896,"length1":24,"length2":25}]],"length":6574,"saved":false}
{"ts":1372941779225,"patch":[[{"diffs":[[0,"in\n    \n    "],[1,"te"],[0,"\n    t.same("]],"start1":4896,"start2":4896,"length1":24,"length2":26}]],"length":6576,"saved":false}
{"ts":1372941780588,"patch":[[{"diffs":[[0," \n    te"],[1,"st"],[0,"\n    t.s"]],"start1":4902,"start2":4902,"length1":16,"length2":18}]],"length":6578,"saved":false}
{"ts":1372941786064,"patch":[[{"diffs":[[0,"   \n    "],[-1,"test"],[1,"var testInstance = new test();"],[0,"\n    t.s"]],"start1":4900,"start2":4900,"length1":20,"length2":46}]],"length":6604,"saved":false}
{"ts":1372941860788,"patch":[[{"diffs":[[0,"   \n"],[-1,"    var retest = function () {\n      test = nohm.model('TestVersionMetaMockup', {\n        properties: {\n          name: {\n            type: 'string',\n            defaultValue: 'testProperty',\n          }\n        },\n        metaCallback: function (err, version) {\n          t.same(err, null, \"Meta version callback had an error.\");\n          t.same(test.meta.inDb, true, \"Meta version inDb was not false.\");\n          t.ok(version, \"No version in meta.inDb callback\");\n          t.done();\n        }\n      }, true);\n    };\n"],[0,"    "]],"start1":3898,"start2":3898,"length1":529,"length2":8}]],"length":6083,"saved":false}
{"ts":1372941867459,"patch":[[{"diffs":[[0,"t;\n    \n    "],[1,"var tested = 0"],[0,"\n    test = "]],"start1":3894,"start2":3894,"length1":24,"length2":38}]],"length":6097,"saved":false}
{"ts":1372941868411,"patch":[[{"diffs":[[0,"sted = 0"],[1,";"],[0,"\n    tes"]],"start1":3912,"start2":3912,"length1":16,"length2":17}]],"length":6098,"saved":false}
{"ts":1372941870285,"patch":[[{"diffs":[[0,"callback\");\n"],[1,"        \n"],[0,"      }\n    "]],"start1":4325,"start2":4325,"length1":24,"length2":33}]],"length":6107,"saved":false}
{"ts":1372941871323,"patch":[[{"diffs":[[0,");\n        \n"],[1,"        \n"],[0,"      }\n    "]],"start1":4334,"start2":4334,"length1":24,"length2":33}]],"length":6116,"saved":false}
{"ts":1372941878403,"patch":[[{"diffs":[[0,"   \n        "],[1,"if (tested)"],[0,"\n      }\n   "]],"start1":4342,"start2":4342,"length1":24,"length2":35}]],"length":6127,"saved":false}
{"ts":1372941887738,"patch":[[{"diffs":[[0,"(tested)"],[1," {"],[0,"\n      }"]],"start1":4357,"start2":4357,"length1":16,"length2":18}]],"length":6129,"saved":false}
{"ts":1372941888786,"patch":[[{"diffs":[[0," (tested) {\n"],[1,"          \n        }\n"],[0,"      }\n    "]],"start1":4356,"start2":4356,"length1":24,"length2":45}]],"length":6150,"saved":false}
{"ts":1372941891532,"patch":[[{"diffs":[[0,"      \n        }"],[1," else {"],[0,"\n      }\n    }, "]],"start1":4372,"start2":4372,"length1":32,"length2":39}]],"length":6157,"saved":false}
{"ts":1372941892734,"patch":[[{"diffs":[[0,"   } else {\n"],[1,"        }\n        }\n"],[0,"      }\n    "]],"start1":4384,"start2":4384,"length1":24,"length2":44}]],"length":6177,"saved":false}
{"ts":1372941893418,"patch":[[{"diffs":[[0,"e {\n        "],[-1,"}"],[0,"\n        }\n "]],"start1":4392,"start2":4392,"length1":25,"length2":24}]],"length":6176,"saved":false}
{"ts":1372941898919,"patch":[[{"diffs":[[0," (tested"],[1," >= 1"],[0,") {\n    "]],"start1":4356,"start2":4356,"length1":16,"length2":21}]],"length":6181,"saved":false}
{"ts":1372941902148,"patch":[[{"diffs":[[0," else {\n        "],[1,"  tested++;"],[0,"\n        }\n     "]],"start1":4393,"start2":4393,"length1":32,"length2":43}]],"length":6192,"saved":false}
{"ts":1372941907615,"patch":[[{"diffs":[[0," 1) {\n          "],[1,"testInstance = new test();"],[0,"\n        } else "]],"start1":4367,"start2":4367,"length1":32,"length2":58}]],"length":6218,"saved":false}
{"ts":1372941922983,"patch":[[{"diffs":[[0,"ted "],[-1,">"],[0,"= 1)"]],"start1":4361,"start2":4361,"length1":9,"length2":8}]],"length":6217,"saved":false}
{"ts":1372941923785,"patch":[[{"diffs":[[0,"tested ="],[1,"="],[0," 1) {\n  "]],"start1":4358,"start2":4358,"length1":16,"length2":17}]],"length":6218,"saved":false}
{"ts":1372941927103,"patch":[[{"diffs":[[0,"\n        } else "],[1,"if ("],[0,"{\n          test"]],"start1":4409,"start2":4409,"length1":32,"length2":36}]],"length":6222,"saved":false}
{"ts":1372941930808,"patch":[[{"diffs":[[0,"lse if ("],[1,"tested > 1)"],[0,"{\n      "]],"start1":4421,"start2":4421,"length1":16,"length2":27}]],"length":6233,"saved":false}
{"ts":1372941932068,"patch":[[{"diffs":[[0,"ted > 1)"],[1," {\n          "],[0,"{\n      "]],"start1":4432,"start2":4432,"length1":16,"length2":29}]],"length":6246,"saved":false}
{"ts":1372941936277,"patch":[[{"diffs":[[0,"sted > 1) {\n"],[1,"          t.done();\n"],[0,"          {\n"]],"start1":4431,"start2":4431,"length1":24,"length2":44}]],"length":6266,"saved":false}
{"ts":1372941939961,"patch":[[{"diffs":[[0,"        "],[-1," "],[1,"} else"],[0," {\n     "]],"start1":4463,"start2":4463,"length1":17,"length2":22}]],"length":6271,"saved":false}
{"ts":1372941969270,"patch":[[{"diffs":[[0," version) {\n"],[1,"        console.log('metaCallback')\n"],[0,"        t.sa"]],"start1":4126,"start2":4126,"length1":24,"length2":60}]],"length":6307,"saved":false}
{"ts":1372941969599,"patch":[[{"diffs":[[0,"llback')"],[1,";"],[0,"\n       "]],"start1":4165,"start2":4165,"length1":16,"length2":17}]],"length":6308,"saved":false}
{"ts":1372941986023,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log('metaCallback');\n"],[0,"    "]],"start1":4134,"start2":4134,"length1":45,"length2":8},{"diffs":[[0,");\n        \n"],[1,"        console.log('metaCallback');\n"],[0,"        if ("]],"start1":4334,"start2":4334,"length1":24,"length2":61}]],"length":6308,"saved":false}
{"ts":1372941990208,"patch":[[{"diffs":[[0,"Callback');\n"],[1,"          tested++;\n"],[0,"        if ("]],"start1":4371,"start2":4371,"length1":24,"length2":44}]],"length":6328,"saved":false}
{"ts":1372941991062,"patch":[[{"diffs":[[0,"back');\n        "],[-1,"  "],[0,"tested++;\n      "]],"start1":4375,"start2":4375,"length1":34,"length2":32}]],"length":6326,"saved":false}
{"ts":1372941994650,"patch":[[{"diffs":[[0,"back');\n"],[-1,"        tested++;\n"],[0,"        "]],"start1":4375,"start2":4375,"length1":34,"length2":16},{"diffs":[[0,"   } else {\n"],[1,"        tested++;\n"],[0,"          te"]],"start1":4505,"start2":4505,"length1":24,"length2":42}]],"length":6326,"saved":false}
{"ts":1372941998580,"patch":[[{"diffs":[[0,");\n        }"],[-1," else {"],[0,"\n        tes"]],"start1":4497,"start2":4497,"length1":31,"length2":24}]],"length":6319,"saved":false}
{"ts":1372942000589,"patch":[[{"diffs":[[0,"    "],[-1," tested++;\n        }"],[0,"\n   "]],"start1":4533,"start2":4533,"length1":28,"length2":8}]],"length":6299,"saved":false}
{"ts":1372942001362,"patch":[[{"diffs":[[0,"++;\n"],[-1,"         \n"],[0,"    "]],"start1":4524,"start2":4524,"length1":18,"length2":8}]],"length":6289,"saved":false}
{"ts":1372942039476,"patch":[[{"diffs":[[0,"Property"],[1,"y"],[0,"',\n     "]],"start1":4062,"start2":4062,"length1":16,"length2":17}]],"length":6290,"saved":false}
{"ts":1372942265561,"patch":[[{"diffs":[[0," version) {\n"],[1,"        console.log('me')\n"],[0,"        t.sa"]],"start1":4127,"start2":4127,"length1":24,"length2":50}]],"length":6316,"saved":false}
{"ts":1372942267850,"patch":[[{"diffs":[[0,".log('me"],[1,"taCallback 1"],[0,"')\n     "]],"start1":4154,"start2":4154,"length1":16,"length2":28}]],"length":6328,"saved":false}
{"ts":1372942268498,"patch":[[{"diffs":[[0,"back 1')"],[1,";"],[0,"\n       "]],"start1":4168,"start2":4168,"length1":16,"length2":17}]],"length":6329,"saved":false}
{"ts":1372942304163,"patch":[[{"diffs":[[0,"sted > 1) {\n"],[1,"          console.log(d)\n"],[0,"          t."]],"start1":4508,"start2":4508,"length1":24,"length2":49}]],"length":6354,"saved":false}
{"ts":1372942305443,"patch":[[{"diffs":[[0,"ole.log("],[-1,"d"],[1,"'done'"],[0,")\n      "]],"start1":4534,"start2":4534,"length1":17,"length2":22}]],"length":6359,"saved":false}
{"ts":1372942306319,"patch":[[{"diffs":[[0,"('done')"],[1,";"],[0,"\n       "]],"start1":4541,"start2":4541,"length1":16,"length2":17}]],"length":6360,"saved":false}
{"ts":1372942310662,"patch":[[{"diffs":[[0,"ted == 1) {\n"],[1,"          console.log('retest it')\n"],[0,"          te"]],"start1":4438,"start2":4438,"length1":24,"length2":59}]],"length":6395,"saved":false}
{"ts":1372942311166,"patch":[[{"diffs":[[0,"est it')"],[1,";"],[0,"\n       "]],"start1":4476,"start2":4476,"length1":16,"length2":17}]],"length":6396,"saved":false}
{"ts":1372942315595,"patch":[[{"diffs":[[0,"allback'"],[1,", tested"],[0,");\n     "]],"start1":4412,"start2":4412,"length1":16,"length2":24}]],"length":6404,"saved":false}
{"ts":1372942324949,"patch":[[{"diffs":[[0,"n error.\");\n"],[1,"        console.log('metaCallback 1');\n"],[0,"        t.sa"]],"start1":4232,"start2":4232,"length1":24,"length2":63},{"diffs":[[0,"t false.\");\n"],[1,"        console.log('metaCallback 1');\n"],[0,"        t.ok"]],"start1":4345,"start2":4345,"length1":24,"length2":63}]],"length":6482,"saved":false}
{"ts":1372942326424,"patch":[[{"diffs":[[0,"callback\");\n"],[1,"        console.log('metaCallback 1');\n"],[0,"        \n   "]],"start1":4443,"start2":4443,"length1":24,"length2":63}]],"length":6521,"saved":false}
{"ts":1372942328931,"patch":[[{"diffs":[[0,"Callback"],[1," tested"],[0,"', teste"]],"start1":4528,"start2":4528,"length1":16,"length2":23}]],"length":6528,"saved":false}
{"ts":1372942330255,"patch":[[{"diffs":[[0,"g('metaCallback "],[-1,"1"],[1,"2"],[0,"');\n        t.sa"]],"start1":4262,"start2":4262,"length1":33,"length2":33}]],"length":6528,"saved":false}
{"ts":1372942330950,"patch":[[{"diffs":[[0,"g('metaCallback "],[-1,"1"],[1,"3"],[0,"');\n        t.ok"]],"start1":4375,"start2":4375,"length1":33,"length2":33}]],"length":6528,"saved":false}
{"ts":1372942331833,"patch":[[{"diffs":[[0,"g('metaCallback "],[-1,"1"],[1,"4"],[0,"');\n        \n   "]],"start1":4473,"start2":4473,"length1":33,"length2":33}]],"length":6528,"saved":false}
{"ts":1372942345888,"patch":[[{"diffs":[[0,"me(test."],[1,"prototype."],[0,"meta.inD"]],"start1":4295,"start2":4295,"length1":16,"length2":26}]],"length":6538,"saved":false}
{"ts":1372942712480,"patch":[[{"diffs":[[0,"sted == "],[-1,"1"],[1,"="],[0,") {\n    "]],"start1":4579,"start2":4579,"length1":17,"length2":17}]],"length":6538,"saved":false}
{"ts":1372942713888,"patch":[[{"diffs":[[0,"sted == "],[-1,"="],[1,"0"],[0,") {\n    "]],"start1":4579,"start2":4579,"length1":17,"length2":17}]],"length":6538,"saved":false}
{"ts":1372942718285,"patch":[[{"diffs":[[0,"else"],[-1," if (tested > 1)"],[0," {\n "]],"start1":4675,"start2":4675,"length1":24,"length2":8}]],"length":6522,"saved":false}
{"ts":1372942774080,"patch":[[{"diffs":[[0,"ested =="],[1,"="],[0," 0) {\n  "]],"start1":4578,"start2":4578,"length1":16,"length2":17}]],"length":6523,"saved":false}
{"ts":1372942778672,"patch":[[{"diffs":[[0,"in\n    \n    "],[-1,"var "],[0,"testInstance"]],"start1":4815,"start2":4815,"length1":28,"length2":24}]],"length":6519,"saved":false}
{"ts":1372942783050,"patch":[[{"diffs":[[0,"var test"],[1,", testInstance"],[0,";\n    \n "]],"start1":3887,"start2":3887,"length1":16,"length2":30}]],"length":6533,"saved":false}
{"ts":1372942855707,"patch":[[{"diffs":[[0,"and "],[-1,"inDb set in model that already has the correct meta version in db"],[1,"setting m"],[0,"\": f"]],"start1":3780,"start2":3780,"length1":73,"length2":17}]],"length":6477,"saved":false}
{"ts":1372942858214,"patch":[[{"diffs":[[0,"etting m"],[1,"eta.property."],[0,"\": funct"]],"start1":3785,"start2":3785,"length1":16,"length2":29}]],"length":6490,"saved":false}
{"ts":1372942861158,"patch":[[{"diffs":[[0,"eta."],[-1,"property."],[1,"inDb"],[0,"\": f"]],"start1":3793,"start2":3793,"length1":17,"length2":12}]],"length":6485,"saved":false}
{"ts":1372942863425,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log('metaCallback 1');\n"],[0,"    "]],"start1":4101,"start2":4101,"length1":47,"length2":8}]],"length":6446,"saved":false}
{"ts":1372942864038,"patch":[[{"diffs":[[0,"\");\n"],[-1,"        console.log('metaCallback 2');\n"],[0,"    "]],"start1":4167,"start2":4167,"length1":47,"length2":8}]],"length":6407,"saved":false}
{"ts":1372942865013,"patch":[[{"diffs":[[0,"\");\n"],[-1,"        console.log('metaCallback 3');\n"],[0,"    "]],"start1":4251,"start2":4251,"length1":47,"length2":8}]],"length":6368,"saved":false}
{"ts":1372942865671,"patch":[[{"diffs":[[0,"\");\n"],[-1,"        console.log('metaCallback 4');\n"],[0,"    "]],"start1":4310,"start2":4310,"length1":47,"length2":8}]],"length":6329,"saved":false}
{"ts":1372942866267,"patch":[[{"diffs":[[0,"   \n"],[-1,"        console.log('metaCallback tested', tested);\n"],[0,"    "]],"start1":4319,"start2":4319,"length1":60,"length2":8}]],"length":6277,"saved":false}
{"ts":1372942867168,"patch":[[{"diffs":[[0,") {\n"],[-1,"          console.log('retest it');\n"],[0,"    "]],"start1":4347,"start2":4347,"length1":44,"length2":8}]],"length":6241,"saved":false}
{"ts":1372942867952,"patch":[[{"diffs":[[0,"e {\n"],[-1,"          console.log('done');\n"],[0,"    "]],"start1":4401,"start2":4401,"length1":39,"length2":8}]],"length":6210,"saved":false}
{"ts":1372942872498,"patch":[[{"diffs":[[0,"ue);"],[-1," // temp so we can create it again"],[0,"\n   "]],"start1":4470,"start2":4470,"length1":42,"length2":8}]],"length":6176,"saved":false}
{"ts":1372942875182,"patch":[[{"diffs":[[0," }\n    }"],[-1,", true"],[0,");\n    \n"]],"start1":4458,"start2":4458,"length1":22,"length2":16}]],"length":6170,"saved":false}
{"ts":1372942877918,"patch":[[{"diffs":[[0,"ed = 0;\n"],[1,"    \n"],[0,"    test"]],"start1":3880,"start2":3880,"length1":16,"length2":21}]],"length":6175,"saved":false}
{"ts":1372942879704,"patch":[[{"diffs":[[0,"   \n"],[-1,"    var tested = 0;\n"],[0,"    "]],"start1":3864,"start2":3864,"length1":28,"length2":8}]],"length":6155,"saved":false}
{"ts":1372942881495,"patch":[[{"diffs":[[0,"   \n"],[-1,"        if (tested === 0) {\n          testInstance = new test();\n        } else {\n          t.done();\n        }\n        tested++;\n"],[0,"    "]],"start1":4304,"start2":4304,"length1":138,"length2":8}]],"length":6025,"saved":false}
{"ts":1372942883901,"patch":[[{"diffs":[[0,"\");\n        "],[1,"t.done();"],[0,"\n      }\n   "]],"start1":4295,"start2":4295,"length1":24,"length2":33}]],"length":6034,"saved":false}
{"ts":1372942887402,"patch":[[{"diffs":[[0,"ect("],[-1,"7"],[1,"4"],[0,");\n "]],"start1":3827,"start2":3827,"length1":9,"length2":9}]],"length":6034,"saved":false}
{"ts":1372944440240,"patch":[[{"diffs":[[0,"     }\n    }"],[1,", true"],[0,");\n    \n    "]],"start1":4318,"start2":4318,"length1":24,"length2":30}]],"length":6040,"saved":false}
{"ts":1372944442550,"patch":[[{"diffs":[[0," }\n    }"],[-1,", true"],[0,");\n    \n"]],"start1":4322,"start2":4322,"length1":22,"length2":16}]],"length":6034,"saved":false}
{"ts":1372944445322,"patch":[[{"diffs":[[0,";\n  },\n\n"],[1,"  \"meta callback and setting meta.inDb\": function(t) {\n    t.expect(4);\n    var test, testInstance;\n    \n    \n    test = nohm.model('TestVersionMetaMockup', {\n      properties: {\n        name: {\n          type: 'string',\n          defaultValue: 'testPropertyy',\n        }\n      },\n      metaCallback: function (err, version) {\n        t.same(err, null, \"Meta version callback had an error.\");\n        t.same(test.prototype.meta.inDb, true, \"Meta version inDb was not false.\");\n        t.ok(version, \"No version in meta.inDb callback\");\n        t.done();\n      }\n    });\n    \n    testInstance = new test();\n    t.same(test.prototype.meta.inDb, false, \"Meta version inDb was not false.\");\n  },\n\n"],[0,"  idGene"]],"start1":4448,"start2":4448,"length1":16,"length2":709}]],"length":6727,"saved":false}
{"ts":1372944451159,"patch":[[{"diffs":[[0,"eta "],[-1,"callback and setting meta.inDb"],[1,"not rechecking on "],[0,"\": f"]],"start1":4460,"start2":4460,"length1":38,"length2":26}]],"length":6715,"saved":false}
{"ts":1372944452558,"patch":[[{"diffs":[[0,"king on "],[1,"already"],[0,"\": funct"]],"start1":4474,"start2":4474,"length1":16,"length2":23}]],"length":6722,"saved":false}
{"ts":1372944475725,"patch":[[{"diffs":[[0,"eta "],[-1,"not rechecking on already"],[1,"set"],[0,"\": f"]],"start1":4460,"start2":4460,"length1":33,"length2":11}]],"length":6700,"saved":false}
{"ts":1372944476331,"patch":[[{"diffs":[[0,"meta set"],[1," "],[0,"\": funct"]],"start1":4459,"start2":4459,"length1":16,"length2":17}]],"length":6701,"saved":false}
{"ts":1372944478580,"patch":[[{"diffs":[[0,"eta set "],[1,"s"],[0,"\": funct"]],"start1":4460,"start2":4460,"length1":16,"length2":17}]],"length":6702,"saved":false}
{"ts":1372944479544,"patch":[[{"diffs":[[0,"eta set "],[-1,"s"],[1,"in"],[0,"\": funct"]],"start1":4460,"start2":4460,"length1":17,"length2":18}]],"length":6703,"saved":false}
{"ts":1372944480749,"patch":[[{"diffs":[[0,"a set in"],[1,"Db "],[0,"\": funct"]],"start1":4462,"start2":4462,"length1":16,"length2":19}]],"length":6706,"saved":false}
{"ts":1372944483787,"patch":[[{"diffs":[[0,"et inDb "],[1,"when version is cur"],[0,"\": funct"]],"start1":4465,"start2":4465,"length1":16,"length2":35}]],"length":6725,"saved":false}
{"ts":1372944484728,"patch":[[{"diffs":[[0," is "],[-1,"cur"],[0,"\": f"]],"start1":4485,"start2":4485,"length1":11,"length2":8}]],"length":6722,"saved":false}
{"ts":1372944486287,"patch":[[{"diffs":[[0,"sion is "],[1,"correct"],[0,"\": funct"]],"start1":4481,"start2":4481,"length1":16,"length2":23}]],"length":6729,"saved":false}
